## 15.5 사용자 인증 
* 우리는 사용자의 신원을 확인하기 위해 3가지 사항 중 하나이상에 기반을 둔다. 
	* 사용자의 소유물 (키, 카드 등) 
	* 사용자의 지식 (사용자 식별자와 패스워드) 
	* 사용자 속성 (지문, 홍채 패턴, 서명)

### 15.5.1 패스워드 
* 사용자의 신원을 인증하는가장 보편적인 방법이 사용자의 패스워드를 이용하는 것이다. 
* 패스워드는 보다 안전한 보호방법이 없을 때 컴퓨터 시스템 내의 객체를 보호하기 위해 사용되기도 한다. 
* 실제 대부분의 시스템은 한명의 사용자가 완전한 권한을 얻기 위해서 하나의 패스워드를 요구한다. 더 많은 패스워드가 이론적으로 더욱 안전함에도 불구하고, 보안은 자주 간과되거나 회피된다. 

### 15.5.2 패스워드의 취약점 
* 패스워드는 사용상의 문제점을 가지고 있으나 이해와 이용이 쉽기 때문에 극도로 보편화되어 있다. 
	* 침입자가 사용자를 알거나 사용자의 정보를 갇는 것
	* 패스워드가 발견될 때까지 문자, 숫자 그리고 구듯점의 모든 가능한 조합을 사용하는 것 (brute force attack)
		![](http://cfile10.uf.tistory.com/image/122477334F5DD45430BCF7)
		- http://blog.naver.com/PostView.nhn?blogId=choda100&logNo=220845411073&categoryNo=0&parentCategoryNo=65&viewDate=&currentPage=1&postListTopCurrentPage=1&from=postView
		
*  비밀번호 노출이 되거나, 비밀번호가 읽혀지거나 분실될 수 있는 경우에는 특히 심각해 진다. 어떤 시스템은 기억하기 힘들거나 긴 패스워드를 강요하는데 정도가 지나칠 경우 패스워드를 기록하게 만들고 외우기 쉬운 비밀번호보다 낮은 보안을 제공한다. 
*  사용자가 계정을 공유할 수 없도록 하는 규칙을 가지고 있는 기관이 많으나 현실은 그렇지 않기 떄문에 유해한 사용자가 시스템 접근을 하게 할 수 있다. 

### 15.5.3 암호화된 패스워드 
* UNIX 시스템은 시스템 패스워드 리스트를 은밀하게 유지할 필요성을 피하기 위해 암호화(함수)를 사용한다. 
* 하지만 이 방법의 결점은 패스워드에 대한 제어를 갖지 않기 때문에. 패스워드 파일의 사본을 갖는 누군가는 빠른 암호화 루틴을 실행할 수 있다. 
* 이 같은 이유로 UNIX의 새로운 버전은 패스워드 항목을 슈퍼유저만 읽을 수 있는 파일에 저장하는데, 제시된 패스워드와 저장된 패스워드를 비교하는 프로그램은 setuid를 루트로 실행되기 때문에 이 파일을 읽을 수 있으나 다른 사용자는 불가능하다. 











### 15.5.4 일회용 패스워드 
![](http://www.quardlock.com/images/Biometric-OTP-card.png)



















* 기존 패스워드의 문제점을 해결하기 위해서 시스템은 패스워드 쌍의 집합을 사용할 수 있다. 
* 한 세션이 시작되면, 시스템이 무작위로 패스워드 쌍의 한 짝을 선택하여 제시한다. 
* 사용자는 반드시 다른 짝을 제공해야 한다. 이러한 시스템에서 시스템은 '도전'을 제시하고, 거기에 대해 사용자는 반드시 정확한 답으로 '응답'해야 한다. 
* 이러한 접근법은 알고리즘을 패스워드처럼 사용하도록 일반화될 수 있다. 알고리즘 형태의 패스워드를 포함하는 방법은 노출될 염려가 없으며, 이와 비슷환 변형 기법에서는 시스템과 사용자가 공유하며, 비밀은 노출될 염려가 있는 매체를 통해서는 절대 전송되지 않는다. 
* 대신, 공유되는 시드와 함께 비밀이 함수의 입력으로 사용된다. 시드는 무작위 문자나 숫자등의 연속이며, 컴퓨터로부터의 인증도전이다. 
* 함수의 결과는 패스워드로 컴퓨터로 전달되고, 컴퓨터 또한 비밀과 시드를 알공 있기 떄문에 동일한 연산을 할 수 있다. 
* 일회용 패스워드 시스템에서는 매 인스턴스가 패스워드가 다르기 때문에 누군가가 한 세션에서 비밀번호를 알아내서 다른 세션에서 다시 사용하려 해도 실패할 것이며, 패스워드가 노출되어 부당한 인증을 받는 것을 방지하는 유일한 방법 중 하나다. 


### 15.5.5 바이오매트릭스 
* 인증을 위해 사용되는 패스워드의 또 다른 변형으로는 생체적 방법이 있다. 
* 지문 판독기가 정확해지고 경제적이 되면서 많은 장비들에서 사용되고 있다. 시간이 흐르면 지문 판독 디바이스는 손가락의 위치나 다른 요소들에 적응할 수 있는 숫지 집합을 저장할 수 있을 것이다. 
* 다중 요소 인증은 좋은 인증 방법이다. 

## 15.6 보안 방어의 구현 
* 시스템과 네트워크 보안에 대해 무수한 많은 위협이 있는 것처럼 많은 보안 해결책이 있다. 대부분의 보안 전문가들은 더 많은 층의 보안이 좋음을 언급하는 심층 방어이론에 동의한다. 
* 본 장에서는 위협에 대한 저항성을 증대시키는데 사용될 수 있는 주요한 방법, 도구, 기술들을 살펴본다. 


### 15.6.1 보안 정책 
* 컴퓨터 사용의 어떠한 측면에 있어서도 보안을 증대시키기 위한 첫 번째 단계는 보안정책을 가지는 것이다. 
* 정책은 여러가지가 있을 수 있지만 일반적으로 보호되어야 할 것이 무엇인지에 대한 기술을 포함한다. 
* 보안정책이 정해지면 영향을 끼칠 수 있는 모든 사람들은 정책에 대해 잘 알고 있어야 하며, 정책은 안전하고 잘 지켜지는지를 보장하기 위하여 정기적으로 갱신되고 점검되는 살아 있는 문서여야 한다. 

### 15.6.2 취약점 평가 
* 보안 정택이 적절히 구련되었는지 아닌지를 결정하는 방법은 약점 평가를 실행하는 것이다. 
* 사회 공학에서 위험 평가를 위한 포트스캔에 이르기까지  넓은 범위를 다룰 수 있다. 
* 취약점 스캔은 영향을 최소화도록 컴퓨터가 한가할 떄 하며, 이러한 스캔은 시스템의 여러 가지 측면을 검사할 수 있다. 
	* 짧거나 추즉하기 쉬운 패스워드 
	* set-uid 프로그램과 같은 인가되지 않은 특권 프로그램 
	* 시스템 디렉토리 내의 인가되지 않은 프로그램 
	* 예상 외로 길게 실행되는 프로세스들 
	* 사용자나 시스템 디렉토리의 부적당한 디렉토리 보호 
	* 패스워드 파일과 같은 시스템 자료 파일, 장치 드라이버 또는 운영체제 커널의 부적절한 보호 
	* 프로그램 탐색 경로의 위험스러운 항목(트로이 목마 등) 
	* 체크섬 값에 의해 탐지된 시스템 프로그램의 변경 
	* 예기치 않는 또는 숨은 네트워크 디먼들 

* 보안 스캔에 의해 발견된 문제점들은 자동으로 고쳐지거나 또는 시스템 관리자에게 통보될 수 있다.
![](http://www.hacure.com/data/file/it_tip/1982108818_BIXmcjfZ_site.PNG) 
	* 실시간 사이버 위협 지도 
		* https://www.fireeye.com/cyber-map/threat-map.html
		* https://cybermap.kaspersky.com/

* 네트워크에 연결된 컴퓨터들은 단독 시스템들 보다는 보안 공격에 대해 보다 많이 노출되어 있다. 
* 하지만 포트스캐너와 같은 취약점 검색 툴이 크래커가 공격을 위한 취약점을 찾는데 도움이 될 수 있다는 것을 고려해야 한다.  

### 15.6.3 침입 탐지 
![](https://www.calyptix.com/wp-content/uploads/Updated-AE-Stack-1.png)

* 시스템 및 설비를 보호하는 것은 침입 탐지와 관련되어 있다. 침입 탐지는 컴퓨터 시스템 내에 접속하려고 시도하거나 성공한 침입을 탐지하고 적절한 대응을 개시하는 것이다. 침입 탐지는 다음과 같은 여러 관점의 기술을 포함한다. 
	* 탐지가 일어나는 시간 : 실시간인가 아니면 칩입이 일어난 후 인가? 
	* 칩입 활동을 탐지하기 위해 조사되는 입력의 타입들 : 침입의 형태는 이들 여러 소스로 부터의 정보를 상호 연동해야 한다. 
	* 대응 능력의 범위 : 간단한 형태는 침입에 대해서 경고하거나 잠재적인 침입 활동을 중단하는 것이지만 복잡한 형태는 시스템이 투명하게 침입자의 행동을 트랩으로 전환시켜, 거짓 자원을 노출시키고 정보를 획득한다. 

* 침입 탐지 시스템 (IDS)와 칩입 방지 시스템 (IDP)를 통해 넓은 범위의 해결책을 낳았다. 현재는 UTM을 많이 사용함 
* 이러한 시스템은 서명 기반 탐지 그리고 이상 탐지 방법으로 침입을 발견한다. 
	* 서명 기반 탐지 
		* 시스템 입력 또는 네트워크 트래픽에서 침입을 의미하는 것으로 알려진 행위나 패턴 (또는 서명)을 검사한다. 
	* 이상 탐지 
		* 컴퓨터 시스템내에서 비정상적인 행위를 탐지하는 테크닉을 사용한다. 
		* 모든 비정상적인 시스템 행동이 침입을 의미하는 것은 아니지만, 침입은 종종 비정상적인 행동을 유발한다고 가정할 수 있다. 

* 그러나 미처 알려지지 않았던 침입 방법(제로데이 공격들)을 통해 들어오는 공격은 서명 기반 탐지에서 감지하기 힘들다. 따라서 보안 업체에서 보안 업데이트를 주기적으로 진행해야 한다. 


### 바이러스 보호 
* 바이러스는 시스템을 망치고 파괴할 수 있다. 따라서 바이러스로부터의 보호는 중요한 보안 고려 사항이다. 
* 바이러스와 백신 프로그램은 점점 더 정교해지고 있다. 몇몇 바이러스는 다른 소프트웨어를 감염시킬 때 자기자신을 변형하여 백신의 기본적인 패턴 인식 방식을 피한다. 
* 따라서 백신은 바이러스를 찾기 위해 하나의 패턴을 찾는 것이 아니라 패턴의 그룹을 찾는다. 
* 또다른 기술에는 샌드박스(sandbox)가 있다. 이 기술은 외부에서 받은 파일을 바로 실행하지 않고 보호된 영역에서 실행시켜 외부에서 들어온 파일이 내부시스템에 악영향을 주는 것을 미연에 방지하는 기술이다. 

	![](http://files.idg.co.kr/itworld/image/2014/10/FrontPageAnimation.gif)
* 만약 외부에서 들어온 파일에 바이러스가 포함되어 있더라도 샌드박스 밖으로는 전파되지 못하기 때문에 보안에 더욱 강력하다.   
	
	
### 15.6.5 검사, 회계 및 로깅 
* 검사, 회계, 로깅은 시스템 성능을 감소시키지만 보안을 포함한 몇몇 영역에서 유용하다. 
* 로깅은 일반적이거나 특정 목적을 가질 수 있다. 모든 시스템 호출 실행은 프로그램의 행동(잘못된 행동)을 분석하기 위해 로그로 남길 수 있다. 
* 인증 실패와 인가 실패는 침입 시도에 대해 많은 것을 말해준다. 
* 회계는 보안 관리자의 도구상자 안에 있는 또 다른 잠재적 도구로써, 보안 문제를 드러낼 수 있는 성능상의 변화를 찾기 위해서 사용될 수 있다. 

### 15.7 방화벽을 이용한 시스템과 네트워크 보호 
![](https://icafeph.files.wordpress.com/2016/04/pfsense-brandts.png)

* 방화벽은 신뢰 가능한 시스템과 신뢰할 수 없는 시스템 사이에 존재하는 컴퓨터나 라우터이다. 
* 방화벽은 두 보안 영역 사이에 네트워크 접근을 제한하고 모든 연결을 감시하고 기록한다. 또한 방화벽은 하나의 네트워크를 다수의 영역으로 분리할 수 있는데 일반적으로 인터넷을 신뢰할 수 없는 영역, DMZ 비무장 지역 (어느정도 안전한 지역), 인트라넷과 같이 내부 네트워크(사설망)으로 나눈다. 
* 하지만 방화벽은 자신이 안전하고 침입 불가능해야 하며, 방화벽이 허용하는 프로토콜 또는 연결안에서 동작하는 칩입을 방지할 수 없다. 
* 새로운 종류의 각각의 장점을 가지고 있는 방화벽이 있다. 
	* 개인 방화벽 
		* 운영체제에 포함되어 있거나 응용으로써 추가되는 소프트웨어 층이다.  
		* 보안 도메인 간의 통신을 제한하기 보다는 특정 호스트로의 통신을 제한한다. 
	* 응용 대리 방화벽 
		* 응용이 네트워크를 가로 질러서 사용하는 프로토콜을 이해하고 있어서 SMTP를 예를 들면 응용 대리자는 SMTP 서버가 하는 것처럼 연결을 받아드리고 SMTP 서버의 원래 목적지로의 접속을 초기화한다. 이를 통해 메시지를 전달할 때 트래픽을 감시하고 불법적인 명령, 버그를 제거하는 등의 일을 한다. 
	* 시스템 호출 방화벽 
		* 응용과 커널 사이에 자리 잡고 시스템 호출 실행을 감시한다.    

		
### 15.8 컴퓨터 보안 분류 
* 미국 국방부의 TCSEC는 시스템의 보안은 A, B, C, D 4단계로 분류했다. 
	* D 등급 
		* 오직 한 등급으로 구성되고, 시스템이 평가되었으나 어느 보안등급의 요구사항도 충족시키지 못한 시스템 
		* MS-DOS, Windows 3.1
	* C 등급 
		* 감사 능력을 활용하여 사용자와 그들의 행동에 대한 임의의 보호화 규명 가능성을 제공한다. 
		* C1 등급 
			* 시스템은 사용작가 자신의 개인 정보를 보호하고, 자신의 데이터를 다른 사용자가 우연히 읽거나 지우는 것을 방지하는 몇몇 제어기능을 가지고 있다. 대부분의 UNIX 버전이 이 보안등급에 속한다.  
		* C2 등급    
			* C1 시스템의 요구사항에다 개별 접근제어를 추가한다. 예를 들어 한 파일의 대한 접근 권한을 단일 사용자 수준까지 명시할 수 있다. 
		* B등급 
			* 강제적 보호 시스템은 C2 시스템의 모든 성질을 포함하며 각 객체에 민감도 라벨을 부착한다. 
			* B1 등급 
				* TCB(컴퓨터 보안 시스템의 총체)는 시스템 내의 각 객체에 보안 라벨을 유지하여 강제 접근 제어에 속하는 결정을 할 때 사용.
			* B2 등급 
				* 민감도 라벨을 이를테면 저장 객체와 같은 각 시스템의 자원으로 확장한다. 물리적 장치에는 최소 또는 최대 보안 수준이 할당되는데, 이는 시스템이 물리적 장치가 위치한 물리적 환경에 의해 부가된 제약을 시행하기 위해 사용한다. 
				* 또한 숨겨진 채널을 지원하고, 숨겨진 채널을 악용하도록 유도할 가능성이 있는 사건의 감시를 지원한다. 

			* B3 등급 
				* 주어진 이름의 객체에 대한 접근이 인가되지 않은 사용자나 그룹을 표시하는 접근-제어 리스트를 생성할 수 있도록 한다. 
				* 이 기법은 보안 관리자에게 통보하고, 필요하다면 최소한의 혼란을 일으키는 방법으로 사건을 종료할 수 있다. 
		* A 등급 
			* A1 등급 
				* 구조적으로 B3 시스템과 기능적으로 동등하나 정형화된 설계 명세, 검증 기술을 사용함으로써 TCB가 정확하게 구현됬으리라는 보다 높은 정도의 확신을 부여한다. 

* TCB의 사용은 단순히 시스템이 보안 정책의 면면을 강요할 수 있음을 확실하게 하는 것에 지나지 않다는 것에 유의해야 한다. 
* TCB는 보안 정책이 어떻게 되어야 하는지는 명시하지 않는다. 




### 15.9 Windows XP 
![](https://fthmb.tqn.com/QtFIsbqVVtNBaiAj9G2qWEFFvlU=/1280x853/filters:no_upscale():fill(FFCC00,1)/about/windows-xp_BG_with_logo-56a1ada43df78cf7726cfca7.jpg) 

* 마이크로소프트 윈도우XP는 다양한 보안 기능과 방법을 지원하도록 설계된 범용 운영체제 이다. 
* 윈도우XP 보안 모델은 사용자 계정에 기반을 둔다. 임의의 수의 사용자 계정을 생성할 수 있도록 허용하며, 이들의 계정은 임의의 방식으로 그룹화 될 수 있으며, 시스템 객체에 대한 접근은 요구하는 데로 허용되거나 거부될 수 있다. 
* 사용자는 시스템에서 유일한 보안 ID로 확인되고 사용자가 로그인할때 하나의 보안 접속 토큰을 발급한다. 
* 이 토큰은 그 사용자가 가지고 있는 모든 특별한 특권의 리스트를 포함하며, 윈도우XP가 사용자를 위한 프로세스가 객체 접든을 시도할 때마다 그 시스템 객체에 대한 접근을 시도할 때마다 그 시스템 객체에 접근을 허용하거나 거부하기 위해 접근 토큰 내의 보안 ID를 사용한다. 
* 윈도우XP는 사용자가 실행하는 각 프로그램이 시스템에 대해 갖도록 보장하기 위해 서브젝트 개념하며, 서브젝트는 사용자가 실행하는 각 프로그램을 위한 허가를 추적하고 관리한다. 
* 감사는 유용한 보안기술이기 때문에 윈도우XP는 감사가 내장되어 있으며, 많은 일반적인 보안 위협을 감시할 수 있도록 허용하고 있다. 
* 윈도우XP에서 객체의 보안 속성은 보안 디스크립터에 의해 기술되며, 객체의 소유자의 시스템 접근 제어 리스트를 포함한다. 
* 윈도우XP는 객체를 컨테이너 객체와 비컨테이너 객체로 분리한다. 디렉토리와 같은 컨테이너는 논리적으로 다른 객체를 포함할 수 있다. 
